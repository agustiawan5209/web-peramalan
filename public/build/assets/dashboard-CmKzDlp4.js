import{r,j as e,L as b}from"./app-CwzCkPZf.js";import{M as f,L as v}from"./ModelCard-Bm6OlkJr.js";import{P as N}from"./prediction-chart-DdNY1WKi.js";import{A as B}from"./app-layout-CkMliSv0.js";import{l as K}from"./predictionstorage-CevMtTp2.js";import{m as n}from"./proxy-D-jIAobz.js";import{D}from"./database-CPSVj6de.js";import{T as P}from"./trending-up-D7sycAvz.js";import"./createLucideIcon-B5A65qtx.js";import"./chevron-right-DTNbnOAr.js";import"./index-B0Fnjf-p.js";import"./utils-jAU0Cazi.js";import"./toast-CjWt9tqQ.js";import"./index-BsY3OrU1.js";import"./Combination-5J8sRYF3.js";import"./nav-user-pmqD2dbs.js";import"./index-Da9yyfr_.js";import"./waves-Iue_lL-E.js";import"./chart-column-IxKl06iX.js";const X=[{title:"Dashboard",href:"/dashboard"}];function V({baseJenisRumputLaut:c,totalDataPanen:l,indikator:m,transactionY:t}){const p=[{title:"Total Data Panen",value:l,icon:e.jsx(D,{size:24})},{title:"Model Tersedia",value:"4",icon:e.jsx(v,{size:24})},{title:"Total Indikator",value:m,icon:e.jsx(P,{size:24}),change:"+2%"}],[a,u]=r.useState({conttoniBasah:{prediction:0,mse:0,rsquared:0},conttoniKering:{prediction:0,mse:0,rsquared:0},spinosumBasah:{prediction:0,mse:0,rsquared:0},spinosumKering:{prediction:0,mse:0,rsquared:0}}),[o,h]=r.useState({conttoniBasah:[],conttoniKering:[],spinosumBasah:[],spinosumKering:[]}),[_,d]=r.useState(!1),g=async()=>{d(!0);try{c.map(async i=>{const{prediction:s,mse:x,rsquared:y}=await K(i);u(j=>({...j,[i]:{prediction:s,mse:x,rsquared:y}}))}),h({conttoniBasah:t.map(i=>i.eucheuma_conttoni_basah),conttoniKering:t.map(i=>i.eucheuma_conttoni_kering),spinosumBasah:t.map(i=>i.eucheuma_spinosum_basah),spinosumKering:t.map(i=>i.eucheuma_spinosum_kering)})}catch(i){console.log(i)}d(!1)};return r.useEffect(()=>{g()},[c,t]),e.jsxs(B,{breadcrumbs:X,children:[e.jsx(b,{title:"Dashboard"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard Prediksi Panen Rumput Laut"}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map((i,s)=>e.jsx(n.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:s*.1},className:"rounded-lg border border-gray-100 bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:i.title}),e.jsx("p",{className:"mt-1 text-2xl font-semibold",children:i.value}),e.jsx("p",{className:"mt-1 text-xs text-green-500",children:i.change})]}),e.jsx("div",{className:"rounded-full bg-green-50 p-2 text-green-500",children:i.icon})]})},i.title))}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[o&&e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"rounded-lg border border-gray-100 bg-white p-4 shadow-sm lg:col-span-2",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Prediksi Panen 6 Bulan Mendatang"}),e.jsx(N,{predictionX1:a.conttoniBasah.prediction,predictionX2:a.conttoniKering.prediction,predictionX3:a.spinosumBasah.prediction,predictionX4:a.spinosumKering.prediction,dataRumputlautX1:o.conttoniBasah.slice(-10),dataRumputlautX2:o.conttoniKering.slice(-10),dataRumputlautX3:o.spinosumBasah.slice(-10),dataRumputlautX4:o.spinosumKering.slice(-10)})]}),a&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"space-y-4",children:a&&Object.keys(a).map(i=>{const s=i;return e.jsx(f,{title:i,prediction:a[s].prediction,mse:a[s].mse,rsquared:a[s].rsquared},i)})})]})]})]})}export{V as default};
