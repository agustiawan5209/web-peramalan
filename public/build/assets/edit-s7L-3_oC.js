import{m as n,j as o,L as _}from"./app-CwzCkPZf.js";import{B as D}from"./button-D6mSC6kj.js";import{A as S}from"./app-layout-CkMliSv0.js";import v from"./form-D9o6lsqa.js";import{L as E}from"./loader-circle-CAZLZFsU.js";import"./index-B0Fnjf-p.js";import"./waves-Iue_lL-E.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-B5A65qtx.js";import"./chevron-right-DTNbnOAr.js";import"./toast-CjWt9tqQ.js";import"./index-BsY3OrU1.js";import"./Combination-5J8sRYF3.js";import"./nav-user-pmqD2dbs.js";import"./index-Da9yyfr_.js";import"./chart-column-IxKl06iX.js";import"./database-CPSVj6de.js";import"./input-error-QZDPPMUu.js";import"./card-9J3xDkxc.js";import"./label-DbovscGM.js";import"./select-CbxNRvoS.js";function Z({breadcrumb:l,indikator:c,jenisRumputLaut:x,titlePage:j,hasilPanen:t}){const b=l?l.map(r=>({title:r.title,href:r.href})):[],{data:u,setData:a,put:L,processing:g,errors:y}=n({bulan:(t==null?void 0:t.bulan)||"",kecamatan:(t==null?void 0:t.kecamatan)||"",desa:(t==null?void 0:t.desa)||"",tahun:(t==null?void 0:t.tahun)||new Date().getFullYear().toString(),total_panen:((t==null?void 0:t.total_panen)||"").toString(),jenisRumputLaut:(t==null?void 0:t.jenisRumputLaut)||x,parameter:(t==null?void 0:t.parameter)||c.map((r,e)=>({indikator_id:c[e].id,nilai:null}))}),R=r=>{const{name:e,value:m}=r.target,i=e.split(".")[1];if(e.includes("jenisRumputLaut")){const[p,d,s]=e.split("."),f=[...u.jenisRumputLaut];f[parseInt(d)]={...f[parseInt(d)],[s==="jumlah"?"jumlah":"nama"]:s==="jumlah"?parseFloat(m):m},a({...u,jenisRumputLaut:f})}else e.includes("parameter")?a(p=>({...p,parameter:p.parameter.map((d,s)=>s===Number(i)?{...d,nilai:m}:d)})):a(p=>({...p,[e]:m}))},w=(r,e)=>{r&&e!==void 0&&u&&u.parameter?r==="label"||r==="jenis_tanaman"||r=="bulan"?a(m=>({...m,[r]:e})):a(m=>({...m,parameter:m.parameter.map((i,p)=>p===Number(r)?{...i,nilai:e}:i)})):console.error("Invalid data: name, value, or parameter may be undefined")},N=r=>{r.preventDefault(),L(route("admin.hasilPanen.update",{hasilPanen:t==null?void 0:t.id}),{onError:e=>{console.log(e)}})};return o.jsxs(S,{breadcrumbs:b,children:[o.jsx(_,{title:j??"Edit Data Panen Rumput Laut"}),o.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[o.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Edit Data Panen Rumput Laut"}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsx(v,{data:u,errors:y,indikator:c,handleChange:R,handleSelectChange:w}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(D,{type:"submit",variant:"default",children:[g&&o.jsx(E,{className:"h-4 w-4 animate-spin"}),"Update Data"]})})]})]})]})}export{Z as default};
