import{r as n,j as e,m as H,L as K,a as F}from"./app-CwzCkPZf.js";import{F as _}from"./form-prediction-DydgaLs3.js";import{m as h}from"./proxy-D-jIAobz.js";import{B as z}from"./button-D6mSC6kj.js";import{D as G,a as O,b as W,c as X,e as E,d as Y}from"./dialog-D7U-xV6L.js";import{A as $}from"./app-layout-CkMliSv0.js";import"./label-DbovscGM.js";import"./utils-jAU0Cazi.js";import"./index-BsY3OrU1.js";import"./index-B0Fnjf-p.js";import"./badge-BuZ1CeRp.js";import"./waves-Iue_lL-E.js";import"./createLucideIcon-B5A65qtx.js";import"./card-9J3xDkxc.js";import"./predictionstorage-CevMtTp2.js";import"./prediction-chart-DdNY1WKi.js";import"./toast-CjWt9tqQ.js";import"./Combination-5J8sRYF3.js";import"./nav-user-pmqD2dbs.js";import"./index-Da9yyfr_.js";import"./trending-up-D7sycAvz.js";import"./x-Cr3S9J8W.js";import"./chevron-right-DTNbnOAr.js";import"./chart-column-IxKl06iX.js";import"./database-CPSVj6de.js";const U=()=>{const[r,l]=n.useState("training"),o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return e.jsxs(h.div,{initial:"hidden",animate:"visible",variants:o,className:"mx-auto h-screen max-w-7xl rounded-lg bg-white p-6 shadow-md overflow-y-auto",children:[e.jsx("h1",{className:"mb-6 text-3xl font-bold text-green-700",children:"Sistem Prediksi Panen Pertanian"}),e.jsxs("p",{className:"mb-6 text-gray-600",children:["Sistem ini menggunakan tiga pendekatan analitik data:",e.jsx("span",{className:"font-semibold",children:" Regresi Linear Berganda"})," untuk prediksi hasil panen,",e.jsx("span",{className:"font-semibold",children:" Kluster K-Means"})," untuk pemilihan indikator, dan",e.jsx("span",{className:"font-semibold",children:" FP-Growth"})," untuk menemukan pola asosiasi antara faktor-faktor produksi."]}),e.jsxs("div",{className:"mb-6 flex border-b",children:[e.jsx("button",{className:`px-4 py-2 font-medium ${r==="training"?"border-b-2 border-green-600 text-green-600":"text-gray-500"}`,onClick:()=>l("training"),children:"Pelatihan Model"}),e.jsx("button",{className:`px-4 py-2 font-medium ${r==="prediction"?"border-b-2 border-green-600 text-green-600":"text-gray-500"}`,onClick:()=>l("prediction"),children:"Prediksi Hasil Panen"})]}),r==="training"?e.jsxs(h.div,{variants:o,children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-green-600",children:"Tata Cara Pelatihan Model"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{step:1,title:"Pola Asosiasi",content:e.jsx("div",{className:"space-y-2",children:e.jsx("p",{children:"Masuk Ke Halaman Pola Asosiasi Lalu pilih Threshold dan Support untuk menampilkan hasil aturan pola asosiasi"})})}),e.jsx(m,{step:2,title:"Klastering dengan K-Means",content:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"algoritma K-Means digunakan untuk mengelompokkan hasil panen sesuai dengan klusternya masing-masing"}),e.jsx("p",{children:"dengan menggunakan centroid dari interpresentasi dari data panen"})]})}),e.jsx(m,{step:3,title:"Pola Asosiasi dengan FP-Growth",content:e.jsx("div",{className:"space-y-2",children:e.jsx("p",{children:"menampilkan hubungan antara indikator dengan aturan hasil dari FP-GROWTH"})})}),e.jsx(m,{step:4,title:"Pelatihan Model Regresi Linear Berganda",content:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"Buat model prediksi hasil panen:"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5",children:[e.jsx("li",{children:"Pilih variabel independen berdasarkan hasil K-Means dan FP-Growth"}),e.jsx("li",{children:"Pilih Pada Halaman untuk menggunakan semua indikator"}),e.jsx("li",{children:"Atau Hanya menggunakan indikator yang sudah ditemukan"}),e.jsx("li",{children:"Latih model dengan data training"})]})]})})]})]}):e.jsxs(h.div,{variants:o,children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-green-600",children:"Tata Cara Prediksi Hasil Panen"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{step:1,title:"Persiapan Data Input",content:e.jsxs("ul",{className:"list-disc space-y-1 pl-5",children:[e.jsx("li",{children:"Siapkan data input sesuai dengan format model"}),e.jsx("li",{children:"Pastikan semua variabel yang diperlukan tersedia"}),e.jsx("li",{children:"Lakukan preprocessing yang sama seperti saat training"})]})}),e.jsx(m,{step:2,title:"Lakukan Prediksi",content:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"Gunakan model regresi linear berganda:"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5",children:[e.jsx("li",{children:"Masukkan data yang sudah diproses ke model"}),e.jsx("li",{children:"Dapatkan prediksi hasil panen"}),e.jsx("li",{children:"Estimasi interval kepercayaan prediksi"})]})]})})]})]}),e.jsxs("div",{className:"mt-8 rounded-lg border border-green-200 bg-green-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-green-700",children:"Catatan Penting:"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-green-800",children:[e.jsx("li",{children:"Pastikan setelah mengganti indikator, lakukan pelatihan model"}),e.jsx("li",{children:"Update model secara berkala dengan data baru"}),e.jsx("li",{children:"Ulangi Proses Pelatihan Apabila Terjadi Kesalahan Inpresetasi"})]})]})]})},m=({step:r,title:l,content:o})=>e.jsx(h.div,{whileHover:{scale:1.02},className:"rounded-lg border p-4 shadow-sm transition-shadow hover:shadow-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-green-100",children:e.jsx("span",{className:"font-bold text-green-700",children:r})}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 text-lg font-semibold text-gray-800",children:l}),e.jsx("div",{className:"text-gray-600",children:o})]})]})}),ve=({breadcrumb:r,titlePage:l})=>{const o=n.useMemo(()=>r?r.map(s=>({title:s.title,href:s.href})):[],[r]),{processing:P}=H({indikator:!1}),[c,M]=n.useState([]),[p,L]=n.useState([]),[C,v]=n.useState(!0),[q,I]=n.useState({text:"",status:!1}),[g,D]=n.useState({transactionX:[],transactionY:[{eucheuma_conttoni_basah:0,eucheuma_conttoni_kering:0,eucheuma_spinosum_basah:0,eucheuma_spinosum_kering:0}],indikator:[{id:0,nama:"",keterangan:"",attribut:[{batas:0,operator:"",nilai:""}]}]}),y=async({changeIndikator:s})=>{try{v(!0);const a=await F.get(route("prediction.setTransactionAPI",{indikator:s}));a.status==200&&(D({transactionX:a.data.transactionX,transactionY:a.data.transactionY,indikator:a.data.indikator}),M(a.data.transactionX),L(a.data.indikator)),console.log(a.data)}catch(a){console.log(a),I({status:!0,text:"Terjadi Kesalahan Ketika Memuat Data Transaksi, Coba Ulangi sekali lagi dengan merefresh Halaman"})}finally{v(!1)}};n.useEffect(()=>{y({changeIndikator:null})},[l]);const[x,S]=n.useState(!1),[i,j]=n.useState(1),f=5,k=i*f,N=k-f,T=c.slice(N,k),d=Math.ceil(c.length/f),w=s=>{y({changeIndikator:s})},[B,b]=n.useState(!1),A=()=>{b(!0)},R=()=>{b(!1)};return e.jsxs($,{breadcrumbs:o,children:[e.jsx(K,{title:l||"Regresi Linear Berganda"}),e.jsxs("div",{className:"container mx-auto max-w-7xl px-4 py-6",children:[e.jsxs("div",{className:"mb-8 space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Regresi Linear Berganda"}),e.jsx("p",{className:"text-gray-500",children:"Analisis prediksi menggunakan metode regresi linear berganda"})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"cursor-pointer rounded-lg border bg-white p-4 shadow-sm transition-all hover:shadow-md",onClick:()=>w(!1),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Gunakan Semua Indikator"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Analisis menggunakan seluruh indikator yang tersedia"})]}),e.jsxs("div",{className:"cursor-pointer rounded-lg border bg-white p-4 shadow-sm transition-all hover:shadow-md",onClick:()=>w(!0),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:e.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Gunakan Indikator Terpilih"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Analisis hanya pada indikator yang dipilih"})]}),e.jsxs("div",{className:"cursor-pointer rounded-lg border bg-white p-4 shadow-sm transition-all hover:shadow-md",onClick:A,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100",children:e.jsx("svg",{className:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Informasi Tata Cara Prediksi Model"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Pelajari lebih lanjut tentang metode ini"})]})]}),e.jsxs("section",{className:"mb-10 rounded-xl bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col justify-between space-y-4 sm:flex-row sm:items-center sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Data Input"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Data yang digunakan untuk analisis regresi"})]}),e.jsxs("button",{onClick:()=>S(!x),className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[x?"Sembunyikan":"Tampilkan"," Data Panen",e.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:x?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]})]}),c.length>0&&x&&e.jsxs(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3,ease:"easeInOut"},className:"mt-6 overflow-hidden rounded-lg border border-gray-200",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:p.map((s,a)=>e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:s.nama},a))})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:T.map((s,a)=>e.jsx("tr",{className:"hover:bg-gray-50",children:p.map((t,u)=>e.jsx("td",{className:"px-6 py-4 text-sm whitespace-nowrap text-gray-500",children:typeof s[u]=="number"?s[u].toFixed(0):s[u]},u))},a))})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-between border-t border-gray-200 bg-white px-6 py-4 sm:flex-row",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Menampilkan ",e.jsx("span",{className:"font-medium",children:N+1})," sampai"," ",e.jsx("span",{className:"font-medium",children:Math.min(k,c.length)})," dari"," ",e.jsx("span",{className:"font-medium",children:c.length})," data"]}),e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>j(Math.max(1,i-1)),disabled:i===1,className:`relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-gray-300 ring-inset hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${i===1?"cursor-not-allowed opacity-50":""}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(d,5)},(s,a)=>{let t;return d<=5||i<=3?t=a+1:i>=d-2?t=d-4+a:t=i-2+a,e.jsx("button",{onClick:()=>j(t),"aria-current":t===i?"page":void 0,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${t===i?"z-10 bg-blue-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-gray-300 ring-inset hover:bg-gray-50 focus:z-20 focus:outline-offset-0"}`,children:t},t)}),e.jsxs("button",{onClick:()=>j(Math.min(d,i+1)),disabled:i===d,className:`relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-gray-300 ring-inset hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${i===d?"cursor-not-allowed opacity-50":""}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l4.5 4.25a.75.75 0 11-1.06 1.02z",clipRule:"evenodd"})})]})]})]})]})]}),c.length>5&&p.length>0&&!C?e.jsx(_,{transactionX:g.transactionX,transactionY:g.transactionY,indikator:g.indikator,showTrain:!0}):e.jsx("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Data tidak cukup"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Data panen harus lebih dari lima agar model dapat diuji. Silakan tambahkan data panen terlebih dahulu."})]})})]}),e.jsx(G,{open:B,onOpenChange:b,children:e.jsxs(O,{children:[e.jsx(W,{children:e.jsx(X,{children:"Informasi Halaman"})}),e.jsx(E,{className:"sm:max-w-7xl",children:e.jsx(U,{})}),e.jsx(Y,{children:e.jsx(z,{variant:"destructive",onClick:R,disabled:P,children:"Tutup"})})]})})]})};export{ve as default};
