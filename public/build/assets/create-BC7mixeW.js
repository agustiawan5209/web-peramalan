import{m as w,j as r,L as N}from"./app-CwzCkPZf.js";import{B as R}from"./button-D6mSC6kj.js";import{A as D}from"./app-layout-CkMliSv0.js";import I from"./form-D9o6lsqa.js";import{L as S}from"./loader-circle-CAZLZFsU.js";import"./index-B0Fnjf-p.js";import"./waves-Iue_lL-E.js";import"./utils-jAU0Cazi.js";import"./createLucideIcon-B5A65qtx.js";import"./chevron-right-DTNbnOAr.js";import"./toast-CjWt9tqQ.js";import"./index-BsY3OrU1.js";import"./Combination-5J8sRYF3.js";import"./nav-user-pmqD2dbs.js";import"./index-Da9yyfr_.js";import"./chart-column-IxKl06iX.js";import"./database-CPSVj6de.js";import"./input-error-QZDPPMUu.js";import"./card-9J3xDkxc.js";import"./label-DbovscGM.js";import"./select-CbxNRvoS.js";function U({breadcrumb:d,indikator:l,jenisRumputLaut:c,titlePage:f}){const h=d?d.map(e=>({title:e.title,href:e.href})):[],{data:s,setData:i,post:x,processing:j,errors:b}=w({bulan:"",kecamatan:"",desa:"",tahun:new Date().getFullYear().toString(),total_panen:"",jenisRumputLaut:c,parameter:l.map((e,t)=>({indikator_id:l[t].id,nilai:null}))}),L=e=>{const{name:t,value:a}=e.target,m=t.split(".")[1];if(t.includes("jenisRumputLaut")){const[n,o,p]=t.split("."),u=[...s.jenisRumputLaut];u[parseInt(o)]={...u[parseInt(o)],[p==="jumlah"?"jumlah":"nama"]:p==="jumlah"?parseFloat(a):a},i({...s,jenisRumputLaut:u})}else t.includes("parameter")?i(n=>({...n,parameter:n.parameter.map((o,p)=>p===Number(m)?{...o,nilai:a}:o)})):i(n=>({...n,[t]:a}))},g=(e,t)=>{e&&t!==void 0&&s&&s.parameter?e==="label"||e==="jenis_tanaman"||e=="bulan"?i(a=>({...a,[e]:t})):i(a=>({...a,parameter:a.parameter.map((m,n)=>n===Number(e)?{...m,nilai:t}:m)})):console.error("Invalid data: name, value, or parameter may be undefined")},y=e=>{e.preventDefault(),x(route("admin.hasilPanen.store"),{onError:t=>{console.log(t)}})};return r.jsxs(D,{breadcrumbs:h,children:[r.jsx(N,{title:f??"Input Data Panen Rumput Laut"}),r.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[r.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Input Data Panen Rumput Laut"}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsx(I,{data:s,errors:b,indikator:l,handleChange:L,handleSelectChange:g}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(R,{type:"submit",variant:"default",children:[j&&r.jsx(S,{className:"h-4 w-4 animate-spin"}),"Simpan Data"]})})]})]})]})}export{U as default};
