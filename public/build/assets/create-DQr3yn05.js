import{m as w,j as a,L as I}from"./app-CwzCkPZf.js";import{I as c}from"./input-error-QZDPPMUu.js";import{B as D}from"./button-D6mSC6kj.js";import{L as i,I as m}from"./label-DbovscGM.js";import{S as g,a as b,b as v,c as N,d as f}from"./select-CbxNRvoS.js";import{A as k}from"./app-layout-CkMliSv0.js";import{L as J}from"./loader-circle-CAZLZFsU.js";import"./utils-jAU0Cazi.js";import"./index-B0Fnjf-p.js";import"./waves-Iue_lL-E.js";import"./createLucideIcon-B5A65qtx.js";import"./index-BsY3OrU1.js";import"./Combination-5J8sRYF3.js";import"./index-Da9yyfr_.js";import"./chevron-right-DTNbnOAr.js";import"./toast-CjWt9tqQ.js";import"./nav-user-pmqD2dbs.js";import"./chart-column-IxKl06iX.js";import"./database-CPSVj6de.js";const P=[{label:"daun menguning",value:0},{label:"pertumbuhan lambat",value:1},{label:"ujung daun mengering",value:2},{label:"daun sehat",value:3},{label:"batang rapuh",value:4},{label:"daun menggulung",value:5}],$=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];function ea({breadcrumb:h,indikator:p,jenisTanaman:q,titlePage:y}){const L=h?h.map(e=>({title:e.title,href:e.href})):[],{data:n,setData:d,post:S,processing:C,errors:l}=w({bulan:"",tahun:new Date().getFullYear().toString(),total_panen:0,jenisRumputLaut:[{nama:"eucheuma_conttoni",jumlah:0},{nama:"eucheuma_spinosum",jumlah:0}],attribut:p.map((e,t)=>({kriteria_id:p[t].id,nilai:null}))});console.log(n.attribut);const u=e=>{const{name:t,value:s}=e.target,r=t.split(".")[1];d(o=>({...o,attribut:o.attribut.map((j,_)=>_===Number(r)?{...j,nilai:s}:j)}))},x=(e,t)=>{e&&t!==void 0&&n&&n.attribut?d(e==="label"||e==="jenis_tanaman"?s=>({...s,[e]:t}):s=>({...s,attribut:s.attribut.map((r,o)=>o===Number(e)?{...r,nilai:t}:r)})):console.error("Invalid data: name, value, or attribut may be undefined")},R=e=>{e.preventDefault(),S(route("admin.dataset.store"),{onError:t=>{console.log(t)}})};return a.jsxs(k,{breadcrumbs:L,children:[a.jsx(I,{title:y??"Input Data Panen Rumput Laut"}),a.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[a.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Input Data Panen Rumput Laut"}),a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx(i,{className:"text-xs text-gray-600",children:"Bulan"}),a.jsxs(g,{value:n.bulan,required:!0,onValueChange:e=>x("bulan",e),children:[a.jsx(b,{className:"input-minimal",children:a.jsx(v,{placeholder:"Pilih"})}),a.jsx(N,{children:$.map(e=>a.jsx(f,{value:e,children:e},e))})]}),l.bulan&&a.jsx(c,{message:l.bulan,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{className:"text-xs text-gray-600",children:"Tahun"}),a.jsx(m,{type:"number",name:"tahun",value:n.tahun,onChange:u,className:"input-minimal",required:!0}),l.tahun&&a.jsx(c,{message:l.tahun,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{className:"text-xs text-gray-600",children:"Total Panen (kg)"}),a.jsx(m,{type:"number",name:"total_panen",value:n.total_panen,onChange:u,className:"input-minimal",step:"0.01",required:!0}),l.total_panen&&a.jsx(c,{message:l.total_panen,className:"mt-2"})]})]}),a.jsxs("div",{children:[a.jsx(i,{className:"text-xs text-gray-600",children:"Jenis Rumput Laut"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[n.jenisRumputLaut.map((e,t)=>a.jsxs("div",{className:"flex items-center gap-2 rounded bg-gray-50 p-2",children:[a.jsx(m,{type:"text",name:`jenisRumputLaut.${t}.nama`,value:e.nama,onChange:u,className:"input-minimal w-32",readOnly:!0,placeholder:`Jenis ${t+1}`}),a.jsx(m,{type:"number",name:`jenisRumputLaut.${t}.jumlah`,value:e.jumlah,onChange:u,className:"input-minimal flex-1",placeholder:"kg",step:"0.01"})]},t)),l.jenisRumputLaut&&a.jsx(c,{message:l.jenisRumputLaut,className:"mt-2"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:p.map((e,t)=>e.nama.toLowerCase()==="gejala"?a.jsxs("div",{children:[a.jsx(i,{className:"text-xs text-gray-600",children:e.nama}),a.jsxs(g,{value:n.attribut[t].nilai||"",required:!0,onValueChange:s=>x(t.toLocaleString(),s),children:[a.jsx(b,{className:"input-minimal",children:a.jsx(v,{placeholder:"Pilih"})}),a.jsx(N,{children:P.map((s,r)=>a.jsx(f,{value:s.label,children:s.label},r))})]})]},t):a.jsxs("div",{children:[a.jsx(i,{className:"text-xs text-gray-600",children:e.nama}),a.jsx(m,{type:"text",name:`attribut.${t}`,value:n.attribut[t].nilai||"",onChange:u,className:"input-minimal",placeholder:`masukkan ${e.nama}`})]},t))}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(D,{type:"submit",variant:"default",children:[C&&a.jsx(J,{className:"h-4 w-4 animate-spin"}),"Simpan Data"]})})]})]})]})}export{ea as default};
