import{m as w,j as a,L as I}from"./app-CwzCkPZf.js";import{I as b}from"./input-error-QZDPPMUu.js";import{B as T}from"./button-D6mSC6kj.js";import{L as m,I as V}from"./label-DbovscGM.js";import{S as h,a as j,b as g,c as f,d as y}from"./select-CbxNRvoS.js";import{A as q}from"./app-layout-CkMliSv0.js";import{L as B}from"./loader-circle-CAZLZFsU.js";import"./utils-jAU0Cazi.js";import"./index-B0Fnjf-p.js";import"./waves-Iue_lL-E.js";import"./createLucideIcon-B5A65qtx.js";import"./index-BsY3OrU1.js";import"./Combination-5J8sRYF3.js";import"./index-Da9yyfr_.js";import"./chevron-right-DTNbnOAr.js";import"./toast-CjWt9tqQ.js";import"./nav-user-pmqD2dbs.js";import"./chart-column-IxKl06iX.js";import"./database-CPSVj6de.js";function ra({breadcrumb:c,kriteria:d,jenisTanaman:v,titlePage:N,dataset:i,opsiLabel:S}){const k=c?c.map(r=>({title:r.title,href:r.href})):[],{data:l,setData:t,put:_,processing:L,errors:s}=w({id:(i==null?void 0:i.id)??0,jenis_tanaman:(i==null?void 0:i.jenis_tanaman)||"",label:(i==null?void 0:i.label)||"",attribut:d.map((r,e)=>{const n=i==null?void 0:i.detail.find(o=>o.kriteria_id===r.id);return{kriteria_id:r.id,nilai:(n==null?void 0:n.nilai)||null}})}),C=r=>{const{name:e,value:n}=r.target,o=e.split(".")[1];t(u=>({...u,attribut:u.attribut.map((x,E)=>E===Number(o)?{...x,nilai:n}:x)}))},D=r=>{r.preventDefault(),_(route("admin.dataset.update",l.id),{onError:e=>{console.log(e)},onSuccess:()=>{}})},p=(r,e)=>{r&&e!==void 0&&l&&l.attribut?t(r==="label"||r==="jenis_tanaman"?n=>({...n,[r]:e}):n=>({...n,attribut:{...n.attribut,[r]:e}})):console.error("Invalid data: name, value, or attribut may be undefined")};return a.jsxs(q,{breadcrumbs:k,children:[a.jsx(I,{title:N??"Edit Data Dataset Tanaman"}),a.jsxs("div",{className:"mx-auto max-w-7xl rounded-xl border border-gray-100 bg-white p-6 shadow",children:[a.jsx("h1",{className:"mb-6 text-center text-xl font-semibold text-primary",children:"Edit Data Dataset Tanaman"}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx(m,{className:"text-xs text-gray-600",children:"Jenis Tanaman"}),a.jsxs(h,{value:l.jenis_tanaman,required:!0,onValueChange:r=>p("jenis_tanaman",r),children:[a.jsx(j,{className:"input-minimal",children:a.jsx(g,{placeholder:"Pilih"})}),a.jsx(f,{children:v.map((r,e)=>a.jsx(y,{value:r.nama,children:r.nama},e))})]}),s.jenis_tanaman&&a.jsx(b,{message:s.jenis_tanaman,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(m,{className:"text-xs text-gray-600",children:"Label"}),a.jsxs(h,{value:l.label,required:!0,onValueChange:r=>p("label",r),children:[a.jsx(j,{className:"input-minimal",children:a.jsx(g,{placeholder:"Pilih"})}),a.jsx(f,{children:S.map((r,e)=>a.jsx(y,{value:r.nama,children:r.nama},e))})]}),s.label&&a.jsx(b,{message:s.label,className:"mt-2"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:d.map((r,e)=>a.jsxs("div",{children:[a.jsx(m,{className:"text-xs text-gray-600",children:r.nama}),a.jsx(V,{type:"text",name:`attribut.${e}`,value:l.attribut[e].nilai||"",onChange:C,className:"input-minimal",placeholder:`masukkan ${r.nama}`})]},e))}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(T,{type:"submit",variant:"default",children:[L&&a.jsx(B,{className:"h-4 w-4 animate-spin"}),"Update Data"]})})]})]}),a.jsx("style",{children:`
                .input-minimal {
                    background: #f9fafb;
                    border: 1px solid #e5e7eb;
                    border-radius: 8px;
                    padding: 8px 12px;
                    font-size: 14px;
                    outline: none;
                    transition: border 0.2s;
                }
                .input-minimal:focus {
                    border-color: var(--color-primary, #2563eb);
                    background: #fff;
                }
                .bg-primary { background-color: var(--color-primary, #2563eb); }
                .bg-primary-dark { background-color: var(--color-primary-dark, #1d4ed8); }
                .text-primary { color: var(--color-primary, #2563eb); }
            `})]})}export{ra as default};
